name: Evaluate Git Diff from a PR
description: "Evaluates the git diff from a PR and outputs the files that have been modified, added or deleted"

inputs:
  # array of paths to be verified
  paths:
    description: "Paths to be verified, separated by comma"
    required: true
    default: "."

outputs:
  hasChanges:
    description: "Has changes"
    value: ${{ steps.detectStep.outputs.hasChanges}}

runs:
  using: "composite"
  steps:

    - name: "Detect Changes"
      id: files
      uses: jitterbit/get-changed-files@v1
      with:
        format: 'json'

    - name: Echo all files
      id: detectStep
      shell: bash
      run: |
        echo "Files changed: ${{ steps.files.outputs.all }}"